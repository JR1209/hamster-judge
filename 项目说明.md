# 🐹⚖️ 仓鼠法官 - 项目完整说明

## 📁 项目文件结构

```
仓鼠法官/
├── hamster_judge.py          # 主程序（核心代码）
├── requirements.txt          # Python依赖包列表
├── .gitignore               # Git忽略文件配置
├── deploy.sh                # 快速部署脚本（Mac/Linux）
├── .streamlit/
│   └── config.toml          # Streamlit配置文件
├── README.md                # 项目说明文档
├── 配置说明.md              # API和判断标准配置教程
├── 部署指南.md              # 详细部署教程（多平台）
├── 快速部署教程.md          # 3分钟快速部署教程（小白版）
└── 项目说明.md              # 本文件
```

## 🎯 核心功能

### 1. 双模式运行
- **模拟模式**：使用简单算法，无需配置，娱乐性质
- **AI模式**：接入大语言模型，智能分析，专业裁决

### 2. 多API支持
- 通义千问（阿里云）- 推荐
- OpenAI（GPT系列）
- 自定义API（任何兼容OpenAI格式的API）

### 3. 自定义判断标准
可以自己配置AI的评判依据，如：
- 沟通有效性
- 情感合理性
- 责任意识
- 尊重程度
- 等等...

### 4. 可视化展示
- 双方理据充分度百分比
- 进度条展示
- 详细裁决书
- 专业建议

### 5. 云端部署
- 支持部署到Streamlit Cloud（免费）
- 支持部署到Hugging Face Spaces（免费）
- 支持部署到Railway（有免费额度）

## 🚀 使用指南

### 本地运行

1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 运行程序：
```bash
streamlit run hamster_judge.py
```

3. 浏览器访问：http://localhost:8501

### 云端部署

**最简单的方法：**

1. 运行部署脚本：
```bash
bash deploy.sh
```

2. 访问Streamlit Cloud部署

3. 分享你的网址！

**详细教程：**
- 小白版：查看《快速部署教程.md》
- 完整版：查看《部署指南.md》

## ⚙️ 配置说明

### 模拟模式（默认）
- 无需任何配置
- 打开就能用
- 使用随机算法评分

### AI模式

#### 使用通义千问（推荐）

1. 获取API Key：
   - 访问：https://dashscope.console.aliyun.com/apiKey
   - 注册/登录阿里云账号
   - 创建API Key

2. 在应用中配置：
   - 选择"AI模式"
   - API提供商选"通义千问"
   - 输入API Key
   - 模型选择：qwen-plus（推荐）

#### 自定义判断标准

在侧边栏勾选"使用自定义判断标准"，输入你的评判依据，例如：

```
请根据以下标准进行评判：
1. 沟通有效性（30%）：表达是否清晰、理性
2. 情感合理性（25%）：诉求是否合情合理
3. 责任意识（25%）：是否愿意承担责任和改进
4. 尊重程度（20%）：对对方的尊重和理解程度

请给出：
- 甲方得分（0-100）
- 乙方得分（0-100）
- 详细分析
- 建议
```

更多配置说明：查看《配置说明.md》

## 💰 费用说明

### 应用托管
- **Streamlit Cloud**：免费（1个公开应用）
- **Hugging Face**：免费
- **Railway**：免费额度 $5/月

### API调用（AI模式）
- **通义千问**：约 ¥0.002/次（qwen-plus）
- **OpenAI**：约 ¥0.01-0.05/次
- **用户自己配置**：不消耗你的额度

## 🎨 技术栈

- **前端框架**：Streamlit
- **编程语言**：Python 3.9+
- **HTTP请求**：requests
- **AI服务**：通义千问/OpenAI/自定义

## 📖 文档导航

根据你的需求选择合适的文档：

| 需求 | 查看文档 |
|------|---------|
| 了解项目功能 | README.md |
| 配置API和判断标准 | 配置说明.md |
| 快速部署上线（小白） | 快速部署教程.md |
| 详细部署教程（多平台） | 部署指南.md |
| 项目文件说明 | 项目说明.md（本文件） |

## 🔧 开发说明

### 主要代码结构

```python
hamster_judge.py
├── 页面配置和样式
├── 侧边栏配置
│   ├── 模式选择
│   ├── API配置
│   └── 判断标准配置
├── AI调用函数
│   ├── call_ai_api()      # 调用AI API
│   └── parse_ai_response() # 解析AI返回
├── 主界面
│   ├── 双方陈述输入
│   └── 提交按钮
└── 结果展示
    ├── 胜负判定
    ├── 百分比展示
    └── 详细裁决书
```

### 扩展建议

如果想增强功能，可以考虑：

1. **用户系统**
   - 添加登录功能
   - 保存历史记录
   - 统计使用次数

2. **高级功能**
   - 多轮对话
   - 语音输入
   - 结果导出PDF
   - 分享到社交媒体

3. **数据分析**
   - 统计常见纠纷类型
   - 分析胜率分布
   - 生成数据报告

4. **美化界面**
   - 自定义主题
   - 动画效果
   - 更多emoji

## 🐛 常见问题

### 代码相关

**Q: 如何修改评分算法？**
A: 修改 `hamster_judge.py` 中的评分逻辑部分

**Q: 如何添加新的API提供商？**
A: 在侧边栏配置部分添加新的选项，参考现有代码

**Q: 如何更改界面样式？**
A: 修改CSS部分或 `.streamlit/config.toml`

### 部署相关

**Q: 部署后访问很慢？**
A: Streamlit Cloud免费版资源有限，可考虑优化代码或升级

**Q: 如何绑定自己的域名？**
A: Streamlit Cloud付费版支持，或使用反向代理

**Q: 可以部署到国内服务器吗？**
A: 可以，使用Docker + Nginx部署到任何服务器

### 使用相关

**Q: AI分析不准确怎么办？**
A: 调整判断标准，或使用更好的模型（如qwen-max）

**Q: API调用失败？**
A: 检查API Key、余额、网络连接

**Q: 想要中英文双语？**
A: 在自定义标准中要求AI提供双语输出

## 📊 项目统计

- **代码行数**：约374行
- **依赖包数**：2个
- **支持平台**：Web（跨平台）
- **开发时间**：1天
- **难度等级**：⭐⭐（简单）

## 🎁 使用场景

1. **情侣日常**：解决小争执，增加趣味
2. **朋友聚会**：娱乐互动，活跃气氛
3. **心理咨询**：辅助分析，提供参考
4. **教学演示**：Streamlit应用示例
5. **技术学习**：AI API调用实践

## 🌟 特色亮点

- ✅ 界面美观，用户体验好
- ✅ 支持双模式，灵活切换
- ✅ 可自定义标准，适应不同需求
- ✅ 部署简单，一键上线
- ✅ 代码清晰，易于扩展
- ✅ 文档完善，新手友好

## 📝 更新日志

### v2.0 (当前版本)
- ✨ 新增AI模式
- ✨ 支持多API提供商
- ✨ 自定义判断标准
- ✨ 完整部署方案
- ✨ 详细文档

### v1.0
- 🎉 初始版本
- ✅ 模拟模式
- ✅ 基础界面

## 🔮 未来计划

- [ ] 添加历史记录功能
- [ ] 支持多轮对话
- [ ] 数据统计分析
- [ ] 移动端优化
- [ ] 多语言支持
- [ ] 用户登录系统

## 💝 致谢

感谢以下技术和服务：
- Streamlit - 优秀的Web框架
- 阿里云通义千问 - 强大的AI能力
- GitHub - 代码托管
- Streamlit Cloud - 免费部署

## 📞 联系方式

如有问题或建议，欢迎反馈！

---

**祝使用愉快！🐹⚖️**

